<?php
/**
 * This file is part of the {@link http://ontowiki.net OntoWiki} project.
 *
 * @copyright Copyright (c) 2011, {@link http://aksw.org AKSW}
 * @license http://opensource.org/licenses/gpl-license.php GNU General Public License (GPL)
 */

/**
 * aksw.org (foaf:)Person template
 *
 * this template renders a person
 */

$templateData = array(
    'title'             => $this->title,
    'resourceUri'       => $this->resourceUri,
    'description'       => $this->description,
    'descriptionHelper' => $this->descriptionHelper,
    'options'           => $this->options
);
?>
<?php echo $this->partial('aksw2011/content.phtml', $templateData) ?>
<?php // Current Projects
$query = '
PREFIX foaf: <http://xmlns.com/foaf/0.1/>
PREFIX aksw: <http://aksw.org/schema/>
SELECT DISTINCT ?resourceUri
WHERE {
<'.$this->resourceUri.'> foaf:currentProject ?resourceUri.
}
';
if ($currentProjects = $this->querylist($query, 'aksw2011/items/li.phtml')): ?>
<h1>Current Projects</h1>
<ul>
<?php echo $currentProjects ?>
</ul>
<?php endif; ?>
<?php // Past Projects
$query = '
PREFIX foaf: <http://xmlns.com/foaf/0.1/>
PREFIX aksw: <http://aksw.org/schema/>
SELECT DISTINCT ?resourceUri
WHERE {
<'.$this->resourceUri.'> foaf:pastProject ?resourceUri.
}
';
if ($pastProjects = $this->querylist($query, 'aksw2011/items/li.phtml')): ?>
<h1>Past Projects</h1>
<ul>
<?php echo $pastProjects ?>
</ul>
<?php endif; ?>

